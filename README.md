# Взлом лектронного дневника школы

Это дополненная версия электронного дневника от ребят из [dvmn](https://github.com/devmanorg/e-diary/tree/master),
в которой можно изменять плохие оценки, добавлять похвалы, подчищать замечания (CRUD)

## Запуск

- Скачайте код
- Установите зависимости командой `pip install -r requirements.txt`
- Создайте БД командой `python3 manage.py migrate`
- Запустите сервер командой `python3 manage.py runserver`

## Переменные окружения

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `manage.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступны 3 переменные:
- `DEBUG` — дебаг-режим. Поставьте True, чтобы увидеть отладочную информацию в случае ошибки.
- `SECRET_KEY` — секретный ключ проекта
- `DATABASE_NAME` — путь до базы данных, например: `schoolbase.sqlite3`

## Как пользоваться

- Запустить django shell `python3 manage.py shell`
- Импортировать нужные функции `from datacenter.views import fix_marks, fix_last_mark, remove_chastisements, create_commendation`
- Чтобы удалить все плохие оценки у ученика - `fix_marks("Иванов Иван Иванович")`
- Чтобы удалить последнюю плохую оценку - `fix_last_mark("Иванов Иван Иванович")`
- Чтобы удалить все замечания - `remove_chastisements("Иванов Иван Иванович")` 
- Чтобы добавить похвалу - `create_commendation("Иванов Иван Иванович", "Математика", 6)`(последний аргумент - цифра класса)
